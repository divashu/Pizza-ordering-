pluginManagement {
  def flutterSdkPath = System.getenv("FLUTTER_ROOT")
  if (flutterSdkPath == null && file("local.properties").exists()) {
    def props = new Properties()
    file("local.properties").withInputStream { props.load(it) }
    flutterSdkPath = props.getProperty("flutter.sdk")
  }
  if (flutterSdkPath == null) {
    throw new GradleException("Flutter SDK not found. Set FLUTTER_ROOT or flutter.sdk in local.properties")
  }

  includeBuild("$flutterSdkPath/packages/flutter_tools/gradle")

  repositories {
    google()
    mavenCentral()
    gradlePluginPortal()
  }
}

plugins {
  id "dev.flutter.flutter-plugin-loader"
}

include(":app")
